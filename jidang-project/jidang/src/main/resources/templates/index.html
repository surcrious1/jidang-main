<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      th:fragment="layout(content, scripts, css)">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${pageTitle} ?: 'Jidang'">Jidang</title>

    <!--ê¸°ë³¸ CSS-->
    <link rel="stylesheet" th:href="@{/css/style.css}">

    <!--í˜ì´ì§€ë³„ ì¶”ê°€ CSS-->
    <th:block th:replace="${css}"></th:block>
</head>
<body>

<header class="site-header">
    <div class="nav-container">
        <!-- ë¡œê³  -->
        <div class="logo">
            <a href="/">Jidang</a>
        </div>

        <!-- PC ë©”ë‰´ -->
        <nav class="nav-links">
            <a href="/" th:classappend="${activePage == 'home'} ? 'active'">í™ˆ</a>
            <a href="/community" th:classappend="${activePage == 'community'} ? 'active'">ì»¤ë®¤ë‹ˆí‹°</a>
            <a href="/games" th:classappend="${activePage == 'games'} ? 'active'">ê²Œì„</a>
            <a href="/guides" th:classappend="${activePage == 'guides'} ? 'active'">ê³µëµ</a>
            <a href="/official" th:classappend="${activePage == 'official'} ? 'active'">ê³µì‹</a>
            <a href="/achievements" th:classappend="${activePage == 'achievements'} ? 'active'">ì—…ì </a>
        </nav>

        <!-- ì˜¤ë¥¸ìª½ ì•¡ì…˜ë“¤ -->
        <div class="nav-actions">

            <!-- ê²€ìƒ‰ ë²„íŠ¼ -->
            <button class="icon-btn pc-only" onclick="toggleSearch()">
                ğŸ”
            </button>

            <!-- ê²€ìƒ‰ ì¸í’‹ -->
            <form id="searchForm" action="/search" method="get" class="search-form hidden pc-only">
                <input type="text" name="q" placeholder="ê²Œì‹œê¸€ ê²€ìƒ‰..." />
            </form>

            <!-- ì•Œë¦¼ (ì„ì‹œ) -->
            <button class="icon-btn">
                ğŸ””
            </button>

            <!-- ë¡œê·¸ì¸/í”„ë¡œí•„ -->
            <a th:href="@{/user/login}" class="icon-btn">
                ğŸ‘¤
            </a>

            <!-- ëª¨ë°”ì¼ ë©”ë‰´ ë²„íŠ¼ -->
            <button class="icon-btn mobile-only" onclick="toggleMobileMenu()">
                â˜°
            </button>
        </div>
    </div>

    <!-- ëª¨ë°”ì¼ ë©”ë‰´ -->
    <div id="mobileMenu" class="mobile-menu hidden">
        <a href="/" >í™ˆ</a>
        <a href="/community">ì»¤ë®¤ë‹ˆí‹°</a>
        <a href="/games">ê²Œì„</a>
        <a href="/guides">ê³µëµ</a>
        <a href="/official">ê³µì‹</a>
        <a href="/achievements">ì—…ì </a>
    </div>
</header>

<!-- ê° í˜ì´ì§€ ë³¸ë¬¸ì´ ë“¤ì–´ì˜¬ ì˜ì—­ -->
<main>
    <div th:replace="${content}"></div>
    <th:block th:replace="${scripts}"></th:block>
</main>

<footer class="site-footer">
    <p>&copy; 2025 Jidang. All Rights Reserved.</p>
</footer>

<script th:inline="javascript">
    document.addEventListener("DOMContentLoaded", () => {

        window.toggleSearch = function () {
            const form = document.getElementById("searchForm");
            if (form) form.classList.toggle("hidden");
        }

        window.toggleMobileMenu = function () {
            const menu = document.getElementById("mobileMenu");
            if (menu) menu.classList.toggle("hidden");
        }
    });
</script>

</body>
</html>

<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" th:fragment="layout(content, scripts, css)">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title th:text="${pageTitle} ?: 'Jidang'">Jidang</title>

    <!--기본 CSS-->
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <!--페이지별 추가 CSS-->
    <th:block th:replace="${css}"></th:block>
</head>
<body>

<header class="site-header">
    <div class="logo">
        <a href="/">Jidang</a>
    </div>

    <nav class="navbar">
        <ul class="nav-links">
            <li><a href="/" th:classappend="${activePage == 'home'} ? 'active'">홈</a></li>
            <li><a href="/news" th:classappend="${activePage == 'news'} ? 'active'">뉴스</a></li>
            <li><a href="/guides" th:classappend="${activePage == 'guides'} ? 'active'">공략</a></li>
            <li><a href="/community" th:classappend="${activePage == 'community'} ? 'active'">커뮤니티</a></li>
            <li><a href="/profile" th:classappend="${activePage == 'profile'} ? 'active'">내정보</a></li>
        </ul>

        <!-- 검색창 -->
        <form class="nav-search-form" method="get" th:action="@{/search}">
            <input type="text" name="q" placeholder="검색...">
            <button type="submit">&#128269;</button>
        </form>

        <!--로그인하기/프로필 띄우기-->
        <a th:href="@{/user/login}" class="login-btn">로그인</a>
    </nav>
</header>

<!-- 각 페이지 본문이 들어올 영역 -->
<main>
    <div th:replace="${content}"></div>
    <th:block th:replace="${scripts}"></th:block>
</main>

<footer class="site-footer">
    <p>&copy; 2025 Jidang. All Rights Reserved.</p>
</footer>

<!-- 페이지별 JS 추가 가능, community 버전의 한계로 js 분리 안됨 -->
<!--<th:block th:replace="${scripts}"></th:block>>-->

</body>
</html>
